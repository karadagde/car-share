package carsharing.model.dao;import carsharing.db.DbClient;import carsharing.model.entity.Car;import java.util.List;public class DbCarDao implements CarShareDAO<Car> {    private static final String CREATE_CAR_TABLE =            "CREATE TABLE IF NOT EXISTS CAR " +            "(ID INT PRIMARY KEY AUTO_INCREMENT, " +            "NAME VARCHAR(255) UNIQUE NOT NULL, " +            "COMPANY_ID INT NOT NULL, " +            "CONSTRAINT fk_company_id FOREIGN KEY (COMPANY_ID) REFERENCES " +            "COMPANY(ID))";    private static final String INSERT_CAR =            "INSERT INTO CAR (NAME, COMPANY_ID) " +            "VALUES " +            "('%s', %d)";    private static final String SELECT_ALL = "SELECT * FROM CAR";    private static final String SELECT_BY_ID = "SELECT * FROM CAR WHERE ID = " +                                               "%s";    private static final String SELECT_AVAILABLE_CARS =            "SELECT * FROM CAR WHERE COMPANY_ID = %s AND ID NOT IN " +            "(SELECT RENTED_CAR_ID FROM CUSTOMER WHERE RENTED_CAR_ID IS NOT NULL)";    private final DbClient dbClient;    public DbCarDao(DbClient dbClient) {        this.dbClient = dbClient;        dbClient.run(CREATE_CAR_TABLE);    }    @Override    public List<Car> findAll() {        return dbClient.selectForCarList(SELECT_ALL);    }    @Override    public Car findById(int id) {        return dbClient.selectCar(String.format(SELECT_BY_ID, id));    }    @Override    public void add(Car car) {        dbClient.run(                String.format(INSERT_CAR, car.getName(), car.getCompanyId()));    }    public List<Car> findAvailableCars(int companyId) {        return dbClient.selectForCarList(                String.format(SELECT_AVAILABLE_CARS, companyId));    }}